<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional //EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>kancolleinfo テスト画面</title>
<style>body,td,div,span,p{font-family:arial,sans-serif;} a {color:#0000cc;}a:visited {color:#551a8b;}a:active {color:#ff0000;}body{margin: 0px;padding: 0px;background-color:white;}</style>
</head>
<body>

<div>
<h1 style="text-align: center">kancolleinfo テスト画面</h1>
</div>
<div>
<div id="kancolle-info">
  <div id="tab-headers">
    <div id="tab-header-main" class="tab-header"><a href="#">メイン</a></div>
    <div id="tab-header-ships" class="tab-header"><a href="#">艦娘</a></div>
    <div id="tab-header-items" class="tab-header"><a href="#">装備</a></div>
    <div id="tab-header-config" class="tab-header"><a href="#">設定</a></div>
    <div id="base-info"><span class="color-orange">186</span>/190 ships; <span class="color-yellow">830</span>/860 items <span id="updated">02:35更新</span> <button id="capture">画面キャプチャ</button></div>
  </div>
  <div id="tab-main" class="tab">
    <div id="fleet1" class="fleet">
      <h2><a href="#">第1艦隊</a> <span class="color-green">[出撃中 + 5-4-1 同航戦 <span style="letter-spacing: -2px;"><span class="color-gray">×</span><span class="color-green">◎</span><span class="color-red">△</span><span class="color-orange">○</span><span class="color-gray">×</span><span class="color-yellow">◎</span></span>]</span><span class="fleet-name">「第1艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green blink">53</td><td class="ship-fuel color-green">100%</td><td class="ship-bull color-green">100%</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td><td class="ship-fuel color-yellow">80%</td><td class="ship-bull color-yellow">80%</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td><td class="ship-fuel color-orange">49%</td><td class="ship-bull color-orange">49%</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td><td class="ship-fuel color-red">0%</td><td class="ship-bull color-red">0%</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-type">駆逐</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td><td class="ship-fuel color-green">100%</td><td class="ship-bull color-green">100%</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-type">駆逐</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green blink">100</td><td class="ship-fuel color-green">100%</td><td class="ship-bull color-green">100%</td></tr>
      </table>
    </div>
    <div id="fleet2" class="fleet">
      <h2><a href="#">第2艦隊</a> <span class="color-red">[遠征中 <label>02:33帰還<input class="check-timer" type="checkbox"></label>]</span><span class="fleet-name">「第2艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green blink">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-type">駆逐</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-type">駆逐</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green blink">50</td></tr>
      </table>
    </div>
    <div id="fleet3" class="fleet">
      <h2><a href="#">第3艦隊</a> <span class="color-yellow">[遠征中 <label>02:40帰還<input class="check-timer" type="checkbox"></label>]</span><span class="fleet-name">「第3艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green blink">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-type">駆逐</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-type">駆逐</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green blink">50</td></tr>
      </table>
    </div>
    <div id="fleet4" class="fleet">
      <h2><a href="#">第4艦隊</a><span class="fleet-name">「第4艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green blink">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-type">駆逐</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-type">駆逐</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green blink">50</td></tr>
      </table>
    </div>
    <div id="ndock">
      <h2><a href="#">入渠</a></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-yellow">50/96</td><td class="ship-cond color-green">53</td><td class="ship-at color-red"><label>--:--<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp color-red">1/58</td><td class="ship-cond">49</td><td class="ship-at color-orange"><label>02:36<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-default">90/96</td><td class="ship-cond color-yellow blink">30</td><td class="ship-at"><label>Sat 02:34<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange">7/15</td><td class="ship-cond color-orange">20</td><td class="ship-at color-red"><label>02:34<input class="check-timer" type="checkbox"></label></td></tr>
      </table>
    </div>
    <div id="kdock">
      <h2><a href="#">建造</a></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck</td><td class="ship-at color-red"><label>--:--<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田</td><td class="ship-at color-orange"><label>02:36<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和</td><td class="ship-at"><label>Sat 02:34<input class="check-timer" type="checkbox"></label></td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168</td><td class="ship-at color-red"><label>02:34<input class="check-timer" type="checkbox"></label></td></tr>
      </table>
    </div>
  </div>
  <div id="tab-ships" class="tab">
    <div class="table-outer"><div class="table-inner"><table>
      <thead>
        <tr><th class="ship-no"><a href="#">#</a></th><th class="ship-type"><a href="#">艦種</a></th><th class="ship-name"><a href="#">艦名</a></th><th class="ship-level"><a href="#" class="sort-current">LV</a></th><th class="ship-hp"><a href="#">耐久</a></th><th class="ship-cond">疲労</th><th class="ship-fuel">燃料</th><th class="ship-bull">弾薬</th></tr>
      </thead>
      <tbody>
      </tbody>
    </table></div></div>
  </div>
  <div id="tab-items" class="tab">
    <span class="color-red">※未実装です。表示内容に意味はありません。</span>
  </div>
  <div id="tab-config" class="tab">
    <table>
      <tr><td class="config-header">画面キャプチャ</td><td></td></tr>
      <tr><td class="config-label">保存先</td><td class="config-input"><input id="capture-save-dir" class="input-text" value="D:\tmp"></td></tr>
      <tr><td class="config-label">ベース名</td><td class="config-input"><input id="capture-save-base" class="input-text" value="kancolle-"></td></tr>
      <tr><td class="config-header">タイマーサウンド</td><td></td></tr>
      <tr><td class="config-label">サウンドファイルURL</td><td class="config-input"><input id="beep-url" class="input-text" value="file://C:/Windows/Media/ringout.wav"></td></tr>
      <tr><td class="config-label">ボリューム(0～100)</td><td class="config-input"><input id="beep-volume" class="input-text input-number" type="number" max="100" min="0" value="100"></td></tr>
      <tr><td class="config-label"></td><td class="config-input"><label><input id="beep-expedition" type="checkbox" class="input-checkbox" checked>遠征帰還時にサウンドを再生する</label></td></tr>
      <tr><td class="config-label"></td><td class="config-input"><label><input id="beep-dock" type="checkbox" class="input-checkbox" checked>入渠終了時にサウンドを再生する</label></td></tr>
      <tr><td class="config-label"></td><td class="config-input"><label><input id="beep-built" type="checkbox" class="input-checkbox" checked>建造終了時にサウンドを再生する</label></td></tr>
    </table>
    <div class="config-buttons">
      <button id="config-save">保存</button>
      <button id="config-reset">クリア</button>
    </div>
  </div>
  <audio id="beep" src="file://C:/Windows/Media/ringout.wav" loop></audio>
</div>
</div>

<script type="application/javascript"><!--
var elem = document.querySelector("#tab-ships tbody");
var html = "";
for (var i = 0; i < 200; i++) {
  html += '<tr><td class="ship-no">' + (i + 1) + '</td><td class="ship-type">巡戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">150</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green">100</td><td class="ship-fuel color-green">100%</td><td class="ship-bull color-green">100%</td></tr>';
}
elem.innerHTML = html;


var kcif = {
  info_div: null,
  current_tab: "tab-main",
  current_fleet: "fleet1"
};
kcif.info_div = document;

function capture(){
  alert("DEBUG!");
}



function select_tab(){
  var elems = kcif.info_div.querySelectorAll("#kancolle-info .tab-header");
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.color = "inherit";
    elems[i].style.backgroundColor = "inherit";
  }
  elems = kcif.info_div.querySelectorAll("#kancolle-info .tab")
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.display = "none";
  }

  var tab = this.parentNode;
  tab.style.color = "white";
  tab.style.backgroundColor = "black";
  kcif.info_div.querySelector("#kancolle-info #" + tab.id.replace("-header", "")).style.display = "block";

  kcif.current_tab = tab.id;
}

function select_fleet(){
  var elems = kcif.info_div.querySelectorAll("#kancolle-info #tab-main .fleet table");
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.display = "none";
  }

  var fleet = this.parentNode.parentNode;
  kcif.info_div.querySelector("#kancolle-info #" + fleet.id + " table").style.display = "block";

  kcif.current_fleet = fleet.id;
}

function beep_timer() {
  var beep = kcif.info_div.querySelector("#kancolle-info #beep");
  if (beep) {
    var elems = kcif.info_div.querySelectorAll("#kancolle-info #tab-main input.check-timer");
    var play = false;
    for (var i = 0; i < elems.length; i++) {
      var parent = elems[i].parentNode.parentNode;
      if (elems[i].checked && (parent.className.indexOf("color-red") >= 0 || parent.className.indexOf("color-orange") >= 0)) {
        play = true;
      }
    }
    if (play) {
      beep.play();
    }
    else {
      beep.pause();
    }
  }
}



// スタイルシート
var sheet = (function(){
  var style = kcif.info_div.createElement("style");
  kcif.info_div.head.appendChild(style);
  return style.sheet;
})();
sheet.insertRule('#kancolle-info { width: 800px; height: 310px; margin-left: auto; margin-right: auto; color: white; background-color: black; font-size: 10pt; font-family: Verdana, "游ゴシック", YuGothic, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; text-align: left; }', sheet.length);
sheet.insertRule('#kancolle-info * { font-family: Verdana, "游ゴシック", YuGothic, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-headers { color: #ccc; background-color: #444; line-height: 1.5; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header { display: inline; border-top: gray solid 1px; border-left: gray solid 1px; border-right: gray solid 1px; padding: 1px 12px 2px 12px; }', sheet.length);
sheet.insertRule('#kancolle-info #base-info { float: right; margin-right: 8px; color: white; font-weight: normal; }', sheet.length);
sheet.insertRule('#kancolle-info #base-info button { height: 21px; position: relative; top: -1px; font-size: 10px; }', sheet.length);
sheet.insertRule('#kancolle-info #updated { font-weight: bold; color: lightgreen; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header a { color: inherit; text-decoration: none; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header a:hover { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .tab { padding: 2px 8px 2px 8px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 { font-size: 10pt; font-weight: normal; padding: 0; margin: 0; }', sheet.length);
sheet.insertRule('#kancolle-info .tab a { color: skyblue; text-decoration: none; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info .tab a:hover { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 .fleet-name { float: right; color: #ccc; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table { color: inherit; font-size: 10pt; padding: 0; margin: 0; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table tr { padding: 0; margin: 0; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table th, #kancolle-info .tab table td { padding: 0; margin: 0; line-height: 1.2; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-no { text-align: right; padding: 0 6px 0 4px; width: 1.8em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-type { width: 2.7em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-name { font-weight: bold; width: 120px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-level, #kancolle-info .tab .ship-cond { text-align: right; width: 2.7em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-hp { text-align: right; width: 4em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-at { text-align: right; width: 7em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab .ship-fuel, #kancolle-info .tab .ship-bull { text-align: right; width: 3.8em; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-main #ndock { width: 482px; float: left; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-main #kdock { width: 302px; float: left; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-main table { position: relative; top: -3px; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-main input.check-timer { padding: 0; margin: 0 0 0 4px; position: relative; top: 2px;}', sheet.length);
sheet.insertRule('#kancolle-info #tab-ships .table-outer { position: relative; padding-top: 20px; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-ships .table-inner { height: 256px; overflow: auto; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-ships table thead { position: absolute; top: 0px; left: 0px; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-ships th { text-align: left; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-ships a.sort-current { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config td.config-header { text-align: right; width: 12em; padding: 2px 16px 0 0; color: skyblue; text-decoration: none; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config td.config-label { text-align: right; width: 12em; padding-right: 16px; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config td.config-input { text-align: left; width: 40em; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config td.config-input .input-text { width: 100%; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config td.config-input .input-number { width: 4em !important; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-config div.config-buttons { text-align: center; }', sheet.length);
sheet.insertRule('#kancolle-info .color-green { color: lightgreen; }', sheet.length);
sheet.insertRule('#kancolle-info .color-yellow { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .color-orange { color: orange; }', sheet.length);
sheet.insertRule('#kancolle-info .color-red { color: red; }', sheet.length);
sheet.insertRule('#kancolle-info .color-gray { color: silver; }', sheet.length);
sheet.insertRule('#kancolle-info .color-default { color: inherit; }', sheet.length);
sheet.insertRule('#kancolle-info .blink { -moz-animation: blink 1.0s ease-in-out infinite alternate; }', sheet.length);
sheet.insertRule('@-moz-keyframes blink { 0% {background-color: rgba(240,208,0,0.5);} 60% {background-color: inherit;} 100% {background-color: inherit;} }', sheet.length);

// ボタン
kcif.info_div.querySelector("#capture").addEventListener("click", capture, true);

// タブ
var elems = kcif.info_div.querySelectorAll("#kancolle-info .tab-header a");
for (var i = 0; i < elems.length; i++) {
  elems[i].addEventListener("click", select_tab, true);
}
kcif.info_div.querySelector("#kancolle-info #" + kcif.current_tab.replace("-", "-header-") + " a").click();

// メイン:艦隊
elems = kcif.info_div.querySelectorAll("#kancolle-info #tab-main .fleet h2 a");
for (var i = 0; i < elems.length; i++) {
  elems[i].addEventListener("click", select_fleet, true);
}
kcif.info_div.querySelector("#kancolle-info #" + kcif.current_fleet + " h2 a").click();

// タイマーサウンド
elems = kcif.info_div.querySelectorAll("#kancolle-info #tab-main input.check-timer");
for (var i = 0; i < elems.length; i++) {
  elems[i].addEventListener("click", beep_timer, true);
}
beep_timer();

//--></script>
</body>
</html>
<!--
var node = kcif.info_div.querySelector("#sectionWrap");
var parent = node.parentNode;
parent.insertBefore(mydiv, node);
-->
