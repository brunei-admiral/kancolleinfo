<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>kancolleinfo テスト画面</title>
<style>body,td,div,span,p{font-family:arial,sans-serif;} a {color:#0000cc;}a:visited {color:#551a8b;}a:active {color:#ff0000;}body{margin: 0px;padding: 0px;background-color:white;}</style>
</head>
<body>

<div>
<h1 style="text-align: center">kancolleinfo テスト画面</h1>
</div>
<div>
<div id="kancolle-info">
  <div id="tab-headers">
    <div id="tab-header-main" class="tab-header"><a href="#">メイン</a></div>
    <div id="tab-header-ships" class="tab-header"><a href="#">艦娘</a></div>
    <div id="tab-header-items" class="tab-header"><a href="#">装備</a></div>
    <div id="tab-header-config" class="tab-header"><a href="#">設定</a></div>
    <div id="base-info"><span class="color-orange">186</span>/190 ships; <span class="color-yellow">830</span>/860 items <span id="updated">02:35更新</span> <button id="capture">画面キャプチャ</button></div>
  </div>
  <div id="tab-main" class="tab">
    <div id="fleet1" class="fleet">
      <h2><a href="#">第1艦隊</a> <span class="color-green">[出撃中 + 5-4-1 同航戦 <span style="letter-spacing: -2px;"><span class="color-gray">×</span><span class="color-green">◎</span><span class="color-red">△</span><span class="color-orange">○</span><span class="color-gray">×</span><span class="color-yellow">◎</span></span>]</span><span class="fleet-name">「第1艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">高戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green blink">53 (+3)</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-type">駆逐</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-type">駆逐</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green blink">50 (+10)</td></tr>
      </table>
    </div>
    <div id="fleet2" class="fleet">
      <h2><a href="#">第2艦隊</a> <span class="color-red">[遠征中 02:33帰還]</span><span class="fleet-name">「第2艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green">50</td></tr>
      </table>
    </div>
    <div id="fleet3" class="fleet">
      <h2><a href="#">第3艦隊</a> <span class="color-yellow">[遠征中 02:40帰還]</span><span class="fleet-name">「第3艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green">50</td></tr>
      </table>
    </div>
    <div id="fleet4" class="fleet">
      <h2><a href="#">第4艦隊</a><span class="fleet-name">「第4艦隊」</span></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-green">53</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp blink">56/58</td><td class="ship-cond">49</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-green">96/96</td><td class="ship-cond color-yellow">30</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange blink">7/15</td><td class="ship-cond color-orange">20</td></tr>
        <tr><td class="ship-no">5</td><td class="ship-name">暁改</td><td class="ship-level">90</td><td class="ship-hp color-yellow">20/30</td><td class="ship-cond color-red">10</td></tr>
        <tr><td class="ship-no">6</td><td class="ship-name">Верный</td><td class="ship-level">90</td><td class="ship-hp color-red">1/37</td><td class="ship-cond color-green">50</td></tr>
      </table>
    </div>
    <div id="ndock">
      <h2><a href="#">入渠</a></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">高戦</td><td class="ship-name">Bismarck drei</td><td class="ship-level">105</td><td class="ship-hp color-yellow">50/96</td><td class="ship-cond color-green">53</td><td class="ship-at color-red">--:--</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田航改二</td><td class="ship-level">90</td><td class="ship-hp color-red">1/58</td><td class="ship-cond">49</td><td class="ship-at color-orange">02:36</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和改</td><td class="ship-level">90</td><td class="ship-hp color-default">90/96</td><td class="ship-cond color-yellow blink">30 (+12)</td><td class="ship-at">Sat 02:34</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168改</td><td class="ship-level">90</td><td class="ship-hp color-orange">7/15</td><td class="ship-cond color-orange">20</td><td class="ship-at color-red">02:34</td></tr>
      </table>
    </div>
    <div id="kdock">
      <h2><a href="#">建造</a></h2>
      <table>
        <tr><td class="ship-no">1</td><td class="ship-type">高戦</td><td class="ship-name">Bismarck</td><td class="ship-at color-red">--:--</td></tr>
        <tr><td class="ship-no">2</td><td class="ship-type">軽空</td><td class="ship-name">千代田</td><td class="ship-at color-orange">02:36</td></tr>
        <tr><td class="ship-no">3</td><td class="ship-type">戦艦</td><td class="ship-name">大和</td><td class="ship-at">Sat 02:34</td></tr>
        <tr><td class="ship-no">4</td><td class="ship-type">潜水</td><td class="ship-name">伊168</td><td class="ship-at color-red">02:34</td></tr>
      </table>
    </div>
  </div>
  <div id="tab-ships" class="tab">
    <span class="color-red">※未実装です。表示内容に意味はありません。</span>
  </div>
  <div id="tab-items" class="tab">
    <span class="color-red">※未実装です。表示内容に意味はありません。</span>
  </div>
  <div id="tab-config" class="tab">
    <table>
      <tr><td>&nbsp;</td><td></td></tr>
      <tr><td class="config-label">画面キャプチャ保存先</td><td class="config-input"><input id="capture-save-dir" class="input-text" value="D:\tmp"></td></tr>
      <tr><td class="config-label">画面キャプチャベース名</td><td class="config-input"><input id="capture-save-base" class="input-text" value="kancolle-"></td></tr>
    </table>
    <div class="config-buttons">
      <button id="config-save">保存</button>
      <button id="config-reset">クリア</button>
    </div>
    <span class="color-red">※未実装です。表示内容に意味はありません。</span>
  </div>
</div>
</div>
<script type="text/javascript"><!--
var doc = document;
var current_tab = "tab-main";
var current_fleet = "fleet1";

function capture(){
  alert("DEBUG!");
}

function select_tab(){
  var elems = doc.querySelectorAll("#kancolle-info .tab-header");
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.color = "inherit";
    elems[i].style.backgroundColor = "inherit";
  }
  elems = doc.querySelectorAll("#kancolle-info .tab")
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.display = "none";
  }

  var tab = this.parentNode;
  tab.style.color = "white";
  tab.style.backgroundColor = "black";
  doc.querySelector("#kancolle-info #" + tab.id.replace("-header", "")).style.display = "block";

  current_tab = tab.id;
}

function select_fleet(){
  var elems = doc.querySelectorAll("#kancolle-info #tab-main .fleet table");
  for (var i = 0; i < elems.length; i++) {
    elems[i].style.display = "none";
  }

  var fleet = this.parentNode.parentNode;
  doc.querySelector("#kancolle-info #" + fleet.id + " table").style.display = "block";

  current_fleet = fleet.id;
}




// スタイルシート
var sheet = (function(){
  var style = doc.createElement("style");
  doc.head.appendChild(style);
  return style.sheet;
})();
sheet.insertRule('#kancolle-info { width: 800px; height: 310px; margin-left: auto; margin-right: auto; color: white; background-color: black; font-size: 10pt; font-family: Verdana, "游ゴシック", YuGothic, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; text-align: left; }', sheet.length);
sheet.insertRule('#kancolle-info * { font-family: Verdana, "游ゴシック", YuGothic, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; }', sheet.length);
sheet.insertRule('#kancolle-info #tab-headers { color: #ccc; background-color: #444; line-height: 1.5; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header { display: inline; border-top: gray solid 1px; border-left: gray solid 1px; border-right: gray solid 1px; padding: 1px 12px 2px 12px; }', sheet.length);
sheet.insertRule('#kancolle-info #base-info { float: right; margin-right: 8px; color: white; font-weight: normal; }', sheet.length);
sheet.insertRule('#kancolle-info #base-info button { height: 21px; position: relative; top: -1px; font-size: 10px; }', sheet.length);
sheet.insertRule('#kancolle-info #updated { font-weight: bold; color: lightgreen; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header a { color: inherit; text-decoration: none; }', sheet.length);
sheet.insertRule('#kancolle-info .tab-header a:hover { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .tab { padding: 2px 8px 2px 8px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 { font-size: 10pt; font-weight: normal; padding: 0; margin: 0; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 a { color: skyblue; text-decoration: none; font-weight: bold; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 a:hover { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .tab h2 .fleet-name { float: right; color: #ccc; }', sheet.length);
sheet.insertRule('#kancolle-info .tab #ndock { width: 482px; float: left; }', sheet.length);
sheet.insertRule('#kancolle-info .tab #kdock { width: 302px; float: left; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table { color: inherit; font-size: 10pt; padding: 0; margin: 0; position: relative; top: -3px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table tr { padding: 0; margin: 0; }', sheet.length);
sheet.insertRule('#kancolle-info .tab table td { padding: 0; margin: 0; line-height: 1.2; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-no { text-align: right; padding: 0 6px 0 4px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-type { width: 2.7em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-name { font-weight: bold; width: 140px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-level { text-align: right; width: 2em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-hp { text-align: right; width: 4em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-cond { text-align: left; width: 5em; padding-left: 12px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.ship-at { text-align: right; width: 5em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.config-label { text-align: right; width: 12em; padding-right: 16px; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.config-input { text-align: left; width: 40em; }', sheet.length);
sheet.insertRule('#kancolle-info .tab td.config-input .input-text { width: 100%; }', sheet.length);
sheet.insertRule('#kancolle-info .tab div.config-buttons { text-align: center; }', sheet.length);
sheet.insertRule('#kancolle-info .color-green { color: lightgreen; }', sheet.length);
sheet.insertRule('#kancolle-info .color-yellow { color: yellow; }', sheet.length);
sheet.insertRule('#kancolle-info .color-orange { color: orange; }', sheet.length);
sheet.insertRule('#kancolle-info .color-red { color: red; }', sheet.length);
sheet.insertRule('#kancolle-info .color-gray { color: silver; }', sheet.length);
sheet.insertRule('#kancolle-info .blink { -moz-animation: blink 1.0s ease-in-out infinite alternate; }', sheet.length);
sheet.insertRule('@-moz-keyframes blink { 0% {opacity: 0.2;} 60% {opacity: 1;} 100% {opacity: 1;} }', sheet.length);

// ボタン
doc.querySelector("#capture").addEventListener("click", capture, true);

// タブ
var elems = doc.querySelectorAll("#kancolle-info .tab-header a");
for (var i = 0; i < elems.length; i++) {
  elems[i].addEventListener("click", select_tab, true);
}
doc.querySelector("#kancolle-info #" + current_tab.replace("-", "-header-") + " a").click();

// メイン:艦隊
elems = doc.querySelectorAll("#kancolle-info #tab-main .fleet h2 a");
for (var i = 0; i < elems.length; i++) {
  elems[i].addEventListener("click", select_fleet, true);
}
doc.querySelector("#kancolle-info #" + current_fleet + " h2 a").click();
//--></script>
</body>
</html>
<!--
var node = doc.querySelector("#sectionWrap");
var parent = node.parentNode;
parent.insertBefore(mydiv, node);
-->
